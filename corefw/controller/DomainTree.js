// Generated by CoffeeScript 1.8.0
Ext.define('Corefw.controller.DomainTree', {
  extend: 'Ext.app.Controller',
  views: ['tree.DomainTree'],
  models: ['DomainTreeNode'],
  stores: ['DomainTreeNode'],
  requires: [],
  init: function() {
    this.control({
      'domainTree': {
        itemclick: function(view, node, item, index, e) {
          try {
            if (node.isLeaf()) {

            } else if (node.isExpanded()) {
              view.collapse(node);
            } else {
              view.expand(node);
            }
          } catch (_error) {
            e = _error;
          }
        },
        cellclick: function(me, td, cellIndex, record, tr, rowIndex, e, eOpts) {
          if (e.getTarget('img', 10, true)) {
            me.getSelectionModel().select(record);
          }
        },
        afterlayout: function(me, layout, eOpts) {
          var nd;
          nd = me.getSelectionModel().getLastSelected();
          if (!Ext.isEmpty(nd)) {
            me.getView().focusRow(me.getView().store.indexOf(nd));
          }
        }
      }
    });
  }
});
